<div class="d-flex justify-content-between align-items-center p-3 m-3">
  <p class="fw-bold"><%= User.display_time %></p>
  <h1 class="text-center">Emergency Room Queue</h1>
  <% if PatientRequest.get_top %>
    <p><h2 class="text-center border border-primary rounded p-3"><%= PatientRequest.get_top %>, you are next!</h2></p>
  <% else %>
    <p><h2 class="text-center border border-primary rounded p-3">No patients are currently in the queue.</h2></p>
  <% end %>
</div>

<div class="container">
  <div class="row d-flex">
    <% @patient_requests.each do |patient_request| %>
      <%= render patient_request %>
    <% end %>
    <div class="d-flex justify-content-center m-3">
      <%= will_paginate @patient_requests, renderer: WillPaginate::ActionView::BootstrapLinkRenderer %>
    </div>
  </div>
</div>

<script>
  function updateTime() {
    const timeElement = document.getElementById('current-time');
    const now = new Date();
    const formattedTime = now.toLocaleString('en-US', {
      year: 'numeric',
      month: '2-digit',
      day: '2-digit',
      hour: '2-digit',
      minute: '2-digit',
      second: '2-digit',
    });
    timeElement.textContent = formattedTime;
  }

  // Update the time every second
  setInterval(updateTime, 1000);
  
  // Initial call to display the time immediately on page load
  updateTime();
</script>
